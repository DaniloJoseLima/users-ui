<div>
  <h1 class="title mb-5">Listagem de usuários</h1>
  <button routerLink="/users/edit" class="button">Cadastrar usuário</button>
  <div *ngIf="isDelete" class="alert alert-success mt-5" role="alert">
    Usuário excluido com sucesso!
  </div>
  <div class="table-responsive mt-5">
    <table class="table table-striped table-hover caption-top">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">Nome</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody *ngIf="users.length > 0">
        <tr *ngFor="let user of users">
          <th scope="row">{{user.id}}</th>
          <td>{{user.title}} {{user.firstName}} {{user.lastName}}</td>
          <td class="d-flex justify-center">
            <a routerLink="/users/edit" [queryParams]="{id: user.id}" class="link me-3">Exibir</a>
            <a class="link cursor-pointer" (click)="delete(user.id)">Excluir</a>
          </td>
        </tr>
      </tbody>
      <tbody *ngIf="!users || users.length == 0">
        <tr>
          <th colspan="3" class="text-center pt-4">
            <p>Nenhum usuário cadastrado.</p>
          </th>
        </tr>
      </tbody>
    </table>
    <div>
      <ul class="pagination justify-content-center">
        <li class="page-item cursor-pointer" [class.disabled]="currentPage == 1">
          <a class="page-link" (click)="setPage(1)">Primeira</a>
        </li>
        <li class="page-item cursor-pointer" [class.disabled]="currentPage == 1">
          <a class="page-link" (click)="setPage(currentPage - 1)">Anterior</a>
        </li>
        <li class="page-item cursor-pointer" *ngFor="let page of [].constructor(totalPages); index as i" [class.active]="i+1 == currentPage">
          <a class="page-link" (click)="setPage(i+1)">{{ i+1 }}</a>
        </li>
        <li class="page-item cursor-pointer" [class.disabled]="currentPage == totalPages">
          <a class="page-link" (click)="setPage(currentPage + 1)">Próxima</a>
        </li>
        <li class="page-item cursor-pointer" [class.disabled]="currentPage == totalPages">
          <a class="page-link" (click)="setPage(totalPages)">Última</a>
        </li>
      </ul>
    </div>
  </div>
</div>
